<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VirSprout ADMIN | Add Resource Need</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="resource_needs.css">
    <link rel="stylesheet" href="dropdown.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="logo">
                <img src="logo.jpeg" alt="VirSprout Logo">
                <h2>VirSprout <i class="fas fa-seedling"></i></h2>
            </div>
            <div class="menu">
                <ul>
                    <li>
                        <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
                    </li>
                    <li>
                        <a href="#"><i class="fas fa-hand-holding-heart"></i> Donations</a>
                    </li>
                    <li>
                        <a href="#"><i class="fas fa-users"></i> Volunteers</a>
                    </li>
                    <li class="active">
                        <a href="#" class="dropdown-toggle">
                            <span><i class="fas fa-box"></i> Resource Needs</span>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="resource_needs.html"><i class="fas fa-list"></i> All Resource Needs</a>
                            </li>
                            <li class="active">
                                <a href="add_resource_needs.html"><i class="fas fa-plus"></i> Add Resource Need</a>
                            </li>
                        </ul>
                    </li>                    
                    <li>
                        <a href="#" class="dropdown-toggle">
                            <span><i class="fas fa-user-alt"></i> Donors</span>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="donors.html"><i class="fas fa-list"></i> All Donors</a>
                            </li>
                            <li>
                                <a href="add_donors.html"><i class="fas fa-plus"></i> Add Donor</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">
                            <span><i class="fas fa-calendar-alt"></i> Events</span>
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="events.html"><i class="fas fa-list"></i> All Events</a>
                            </li>
                            <li>
                                <a href="add_events.html"><i class="fas fa-plus"></i> Add Event</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="messages.html"><i class="fas fa-comment-dots"></i> Messages</a>
                    </li>
                    <li>
                        <a href="notification.html"><i class="fas fa-bell"></i> Notifications</a>
                    </li>
                    <li>
                        <a href="users.html"><i class="far fa-address-book"></i> Users </a>
                    </li>
                    <li>
                        <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
                    </li>
                </ul>
            </div>
            <div class="logout">
                <a href="#" onclick="logoutUser();"><i class="fas fa-sign-out-alt"></i> Logout</a>
                <script src="logout.js"></script>
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search needs...">
                </div>
                <div class="header-right">
                    <div class="admin-profile">
                        <img src="admin.jpeg" alt="Admin Avatar">
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <h1>Add Resource Need</h1>

                <div class="create-resource-need-section">
                    <div class="need-form-container form-visible">
                        <form id="resourceNeedForm" class="resource-need-form">
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="need-title">Need Title *</label>
                                    <input type="text" id="need-title" name="title" placeholder="e.g., School Supplies for Children" required>
                                </div>
                                <div class="form-group half">
                                    <label for="need-category">Category *</label>
                                    <select id="need-category" name="category" required>
                                        <option value="">Select Category</option>
                                        <option value="food">Food</option>
                                        <option value="clothing">Clothing</option>
                                        <option value="education">Education</option>
                                        <option value="medical">Medical</option>
                                        <option value="monetary">Monetary</option>
                                        <option value="volunteer">Volunteer Services</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="need-description">Description *</label>
                                <textarea id="need-description" name="description" placeholder="Describe the resource need in detail..." required></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="need-quantity">Quantity Needed *</label>
                                    <input type="number" id="need-quantity" name="quantity" min="1" placeholder="e.g., 50" required>
                                </div>
                                <div class="form-group half">
                                    <label for="need-unit">Unit</label>
                                    <input type="text" id="need-unit" name="unit" placeholder="e.g., pieces, kg, liters">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="need-priority">Priority Level *</label>
                                    <select id="need-priority" name="priority" required>
                                        <option value="">Select Priority</option>
                                        <option value="low">Low</option>
                                        <option value="medium">Medium</option>
                                        <option value="high">High</option>
                                        <option value="urgent">Urgent</option>
                                    </select>
                                </div>
                                <div class="form-group half">
                                    <label for="need-status">Status *</label>
                                    <select id="need-status" name="status" required>
                                        <option value="active">Active</option>
                                        <option value="pending">Pending</option>
                                        <option value="fulfilled">Fulfilled</option>
                                        <option value="cancelled">Cancelled</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="need-target-date">Target Date *</label>
                                    <input type="date" id="need-target-date" name="target_date" required>
                                </div>
                                <div class="form-group half">
                                    <label for="need-location">Location</label>
                                    <input type="text" id="need-location" name="location" placeholder="e.g., Community Center, School">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="need-image">Featured Image</label>
                                <div class="file-upload">
                                    <input type="file" id="need-image" accept="image/*">
                                    <label for="need-image" class="file-upload-label">
                                        <i class="fas fa-upload"></i> Choose Image
                                    </label>
                                    <span id="file-name">No file chosen</span>
                                </div>
                            </div>
                            
                            <div class="form-buttons">
                                <button type="submit" class="btn-publish">Save Need</button>
                                <button type="button" class="btn-save">Save as Draft</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="dropdown.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // File input handling
            const fileInput = document.getElementById('need-image');
            const fileNameSpan = document.getElementById('file-name');
            
            if(fileInput && fileNameSpan) {
                fileInput.addEventListener('change', function() {
                    if(this.files.length > 0) {
                        fileNameSpan.textContent = this.files[0].name;
                    } else {
                        fileNameSpan.textContent = 'No file chosen';
                    }
                });
            }
            
            // Form submission handling
            const resourceNeedForm = document.getElementById('resourceNeedForm');
            if(resourceNeedForm) {
                resourceNeedForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Validate form
                    const requiredFields = resourceNeedForm.querySelectorAll('[required]');
                    let isValid = true;
                    
                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            isValid = false;
                            field.classList.add('error');
                        } else {
                            field.classList.remove('error');
                        }
                    });
                    
                    if (isValid) {
                        // Form is valid, submit data
                        alert('Resource need saved successfully!');
                        
                        // In a real application, you would send this data to the server
                        // For now, we'll just redirect to the resource needs list
                        window.location.href = 'resource_needs.html';
                    } else {
                        alert('Please fill in all required fields.');
                    }
                });
                
                // Handle Save as Draft button
                const saveDraftBtn = document.querySelector('.btn-save');
                if(saveDraftBtn) {
                    saveDraftBtn.addEventListener('click', function() {
                        // Save form data as draft
                        alert('Resource need saved as draft!');
                    });
                }
            }
        });
    </script>
</body>
</html>